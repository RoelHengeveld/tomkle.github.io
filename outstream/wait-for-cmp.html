<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://unpkg.com/awsm.css/dist/awsm.min.css">
        <title>Wait for CMP - Outstream Test Case</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700,700i" rel="stylesheet">

	    <script>
            var gdprAppliesGlobally=true;
            (function(){function n(){if(!window.frames.__cmpLocator){if(document.body&&document.body.firstChild){var e=document.body;var t=document.createElement("iframe");t.style.display="none";t.name="__cmpLocator";e.insertBefore(t,e.firstChild)}else{setTimeout(n,5)}}}function e(e,t,n){if(typeof n!=="function"){return}if(!window.__cmpBuffer){window.__cmpBuffer=[]}if(e==="ping"){n({gdprAppliesGlobally:gdprAppliesGlobally,cmpLoaded:false},true)}else{window.__cmpBuffer.push({command:e,parameter:t,callback:n})}}e.stub=true;function t(a){if(!window.__cmp||window.__cmp.stub!==true){return}if(!a.data){return}var r=typeof a.data==="string";var e;try{e=r?JSON.parse(a.data):a.data}catch(t){return}if(e.__cmpCall){var i=e.__cmpCall;window.__cmp(i.command,i.parameter,function(e,t){var n={__cmpReturn:{returnValue:e,success:t,callId:i.callId}};a.source.postMessage(r?JSON.stringify(n):n,"*")})}}if(typeof window.__cmp!=="function"){window.__cmp=e;if(window.addEventListener){window.addEventListener("message",t,false)}else{window.attachEvent("onmessage",t)}}n()})();


            window.didomiConfig = {
	            website: {
		            apiKey: "03f1af55-a479-4c1f-891a-7481345171ce",
		            name: 'Didomi',
		            vendors: { 
			            iab: {
				            all: true,
			            }, 
		            }, 
	            },
            };
	    </script>
	    <script type="text/javascript" src="https://sdk.privacy-center.org/loader.js" id="spcloader" async></script>
    </head>
    <body>
        <div class="wrapper">
            <main class="main">
                <article>
                    <h1>Outstream - Wait for CMP</h1>
                    <div class="byline"><b>Test Note:</b> The player should wait up to 5000ms for a CMP response to be available before placing itself and otherwise place itself after that time. Macros in the lineitem should be replaced.</div>
                    <button onClick="Didomi.preferences.show()">Show CMP Preferences</button>
			        <button onClick="Didomi.reset()">Reset consent</button>
                    <hr>
                    <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur eu euismod elit. Integer nec pretium mauris. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ultricies magna est, eget imperdiet ligula porttitor vitae. Donec mattis dolor dolor, ullamcorper dictum leo finibus a. Integer vitae suscipit neque. Duis eu nibh bibendum augue aliquet ultricies in vitae ante. Ut at finibus ex. Etiam at pulvinar nulla. Curabitur posuere ligula in massa ullamcorper, vitae dignissim urna viverra. Mauris mauris mi, tincidunt convallis pulvinar eget, tincidunt in libero.</p>
                    <figure class="image"><img alt="A lovely placebear" src="https://placebear.com/500/300" />
                        <figcaption class="caption">"Non-sensical content demands at least one bear picture"</figcaption>
                    </figure>
                    <p> Curabitur id pellentesque ante, non maximus ante. Nulla facilisi. Mauris consequat nisl auctor sapien sagittis, in elementum dolor elementum. Donec ut arcu molestie massa rutrum efficitur. Phasellus ac enim quis erat vulputate pellentesque. Aliquam mi nulla, laoreet at dolor a, accumsan condimentum magna. Vestibulum quis diam massa. Quisque euismod magna vitae pulvinar faucibus. Sed nisl magna, luctus sit amet efficitur et, convallis non libero. Curabitur tempor pretium mauris, sit amet laoreet sapien pellentesque eu. </p>
                    <figure class="image"><img alt="A lovely second placebear" src="https://placebear.com/600/400" />
                        <figcaption class="caption">"Non-sensical content demands at least one MORE bear picture"</figcaption>
                    </figure>

                    <h2>Place a player here</h2>
                    <script type="text/javascript" src="https://testsuite.acc.bbvms.com/a/outstream_test_case_wait_for_cmp.js"></script>
                    <p> Vivamus bibendum congue nibh, sit amet tempor eros consectetur vulputate. Sed accumsan dolor tincidunt hendrerit vulputate. Curabitur sollicitudin, dolor quis pellentesque pharetra, tellus dolor malesuada mauris, ut fermentum est ipsum a justo. In eget laoreet justo. Suspendisse elit tortor, sollicitudin elementum porttitor id, dignissim quis odio. Proin aliquam mi non tempus ullamcorper. Donec ac urna nulla. Duis vel ipsum non turpis convallis pellentesque. Proin quis nibh ultricies, gravida urna id, elementum justo. Nullam tincidunt vel nunc quis euismod. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras eget cursus tellus.</p>

                    <p>Phasellus eleifend suscipit lectus in euismod. Cras malesuada mollis ante a egestas. Sed pellentesque tempus varius. Mauris porta sollicitudin nulla, quis elementum lectus condimentum ac. Sed massa lorem, porta a orci vitae, congue molestie nisl. Nam fringilla vel eros nec venenatis. Nam vestibulum arcu at nulla tincidunt faucibus. Vestibulum posuere tincidunt aliquam. Nullam porta erat eros, id cursus nisl ullamcorper et. Nulla mi lacus, pharetra in gravida volutpat, cursus non tellus. Donec sit amet laoreet dui, at sodales nulla. Donec in fringilla ipsum. Ut malesuada aliquam elit sed lobortis. Nullam venenatis pulvinar libero, in commodo neque commodo a.</p>

                    <p>Nulla facilisis aliquam condimentum. Nullam urna nulla, blandit quis diam a, gravida commodo massa. Cras id efficitur mauris. Phasellus dui quam, ultricies a vestibulum at, congue in mi. Suspendisse condimentum commodo neque, eget ultrices ligula tristique pretium. Ut et volutpat nibh, ac venenatis mauris. Aenean sed gravida nulla, et tristique nisi. Vivamus nec leo pellentesque, convallis est id, imperdiet augue. Etiam vel diam blandit, semper nisl sed, sagittis tortor. Proin rhoncus tellus nec dignissim sagittis. Nulla facilisi. Mauris ornare, urna et lobortis iaculis, justo tortor interdum eros, sit amet bibendum odio eros nec sapien. Sed auctor fringilla facilisis. Morbi aliquet gravida suscipit. Etiam dictum sagittis turpis in porttitor. Sed in ornare risus, at ullamcorper felis.</p>

                    <p>Morbi sit amet elit lacinia, pellentesque eros vitae, malesuada lorem. Nam et vestibulum nibh. Phasellus tincidunt suscipit mauris. Cras pellentesque fringilla condimentum. Etiam ultricies arcu porta, aliquam augue ut, maximus ligula. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas condimentum, urna ac facilisis suscipit, mi nulla gravida arcu, in faucibus lectus diam ac urna. Aliquam auctor risus malesuada pellentesque condimentum. Donec ac ullamcorper quam. Aliquam ultrices ligula libero, sit amet laoreet arcu tempor in. Fusce diam leo, tristique quis mollis efficitur, fermentum vel lacus. Vestibulum ut sodales justo. Donec non mauris convallis risus fermentum scelerisque et ut ipsum. </p>
                </article>
            </main>
        </div>
    </body>
</html>
